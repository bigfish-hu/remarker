<div class="content-top clearfix">
  <h1 class="al-title" i18n>Profile</h1>
</div>

<div class="row">
  <ba-card class="col-xs-12 col-md-6" baCardClass="with-scroll">
    <h3 class="card-title" i18n>User Data</h3>
    <form [formGroup]="userForm" (ngSubmit)="submitUserForm()" >
      <div class="form-group">
        <label for="userId"><b i18n>ID: </b></label>
        <input name="userId" type="number" [ngModel]="user.id" class="form-control" id="userId" placeholder="ID" disabled>
      </div>
      <div class="form-group">
        <label for="userName"><b i18n>Name: </b></label>
        <input name="userName" type="text" [(ngModel)]="user.name" class="form-control" id="userName" placeholder="Name" required>
      </div>
      <div class="form-group">
        <label for="userEmail"><b i18n>Email: </b></label>
        <input name="userEmail" type="email" [(ngModel)]="user.email" class="form-control" id="userEmail" placeholder="Email" required>
      </div>
      <div class="form-group">
        <label for="userCreated"><b i18n>Created at: </b></label>
        <input name="userCreated" type="datetime" [(ngModel)]="user.createdAt" class="form-control" id="userCreated" disabled>
      </div>
      <div class="form-group">
        <label for="userUpdated"><b i18n>Updated at: </b></label>
        <input name="userUpdated" type="datetime" [(ngModel)]="user.updatedAt" class="form-control" id="userUpdated" disabled>
      </div>
      <div class="checkbox">
        <label class="checkbox-inline custom-checkbox nowrap">
          <input name="userAdmin" type="checkbox" [(ngModel)]="user.isSuperadmin" class="form-control" id="userAdmin" disabled>
          <span><b i18n>Admin</b></span>
        </label>
      </div>
      <button type="submit" class="btn btn-success pull-xs-right" [disabled]="!userForm.form.valid" i18n>Submit</button>
    </form>
  </ba-card>

  <ba-card class="col-xs-12 col-md-6" baCardClass="with-scroll">
    <h3 class="card-title" i18n>Change Password</h3>
    <form [formGroup]="passwordForm" (ngSubmit)="submitPasswordForm()">
      <div class="form-group" [ngClass]="{'has-error': (!oldPassword.valid && oldPassword.touched), 'has-success': (oldPassword.valid && oldPassword.touched)}">
        <label for="oldPassword"><b i18n>Old Password: </b></label>
        <input type="password" [formControl]="oldPassword" class="form-control" id="oldPassword" placeholder="Old Password">
      </div>
      <div class="form-group" [ngClass]="{'has-error': (!newPassword1.valid && newPassword1.touched), 'has-success': (newPassword1.valid && newPassword1.touched)}">
        <label for="newPassword1"><b i18n>New Password: </b></label>
        <input type="password" [formControl]="newPassword1" class="form-control" id="newPassword1" placeholder="New Password">
      </div>
      <div class="form-group" [ngClass]="{'has-error': (!newPassword2.valid && newPassword2.touched), 'has-success': (newPassword2.valid && newPassword2.touched)}">
        <label for="newPassword2"><b i18n>New Password Again: </b></label>
        <input type="password" [formControl]="newPassword2"  class="form-control" id="newPassword2" placeholder="New Password Again">
        <span *ngIf="!newPasswords.valid && (newPassword1.touched || newPassword2.touched)" class="help-block sub-little-text" i18n>Passwords don't match.</span>
      </div>
      <button type="submit" class="btn btn-success pull-xs-right" [disabled]="!passwordForm.valid" i18n>Submit</button>
    </form>
  </ba-card>
</div>
